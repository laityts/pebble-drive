name = "pebble-drive-api"
main = "src/index.js"
compatibility_date = "2024-01-01"

# R2 Storage Bucket（对象存储）
[[r2_buckets]]
binding = "R2_BUCKET"
bucket_name = "pebble-drive-storage"

# D1 Database（SQLite数据库）
[[d1_databases]]
binding = "DB"
database_name = "pebble-drive-db"
database_id = "dbb9ef2c-9c03-4b24-a326-dc466dfe9f29"  # 替换为你的 D1 数据库 ID

# KV Namespace（速率限制存储）
[[kv_namespaces]]
binding = "RATE_LIMIT_KV"
id = "2211b7e44173432d9c010cb554ab39b0"

# 环境变量（根据需求调整）
[vars]
MAX_FILE_SIZE_MB = "1000"
STORAGE_QUOTA_GB = "10"
BLOCKED_EXTENSIONS = ".exe,.sh,.bat,.cmd,.com,.scr,.msi,.dll,.vbs,.ps1"
UPLOAD_RATE_LIMIT = "200"
UPLOAD_RATE_WINDOW = "3600"
